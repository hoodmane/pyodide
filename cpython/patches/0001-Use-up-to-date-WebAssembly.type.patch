From 4cf68f3a64257d6c701f4f720ed1f723c6e3d5af Mon Sep 17 00:00:00 2001
From: Hood Chatham <roberthoodchatham@gmail.com>
Date: Thu, 11 Jul 2024 13:45:46 +0200
Subject: [PATCH 1/2] Use up to date WebAssembly.type

---
 Python/emscripten_trampoline.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/Python/emscripten_trampoline.c b/Python/emscripten_trampoline.c
index 2a80ec4f18d..77c9bcc3711 100644
--- a/Python/emscripten_trampoline.c
+++ b/Python/emscripten_trampoline.c
@@ -43,7 +43,7 @@ EM_JS(int, _PyEM_CountFuncParams, (PyCFunctionWithKeywords func),
     if (n !== undefined) {
         return n;
     }
-    n = WebAssembly.Function.type(wasmTable.get(func)).parameters.length;
+    n = wasmTable.get(func).type().parameters.length;
     _PyEM_CountFuncParams.cache.set(func, n);
     return n;
 }
-- 
2.34.1

